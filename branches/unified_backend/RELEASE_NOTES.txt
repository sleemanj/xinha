Release Notes - Xinha Unified Backend Branch

by: Yermo Lamers of DTLink, LLC
http://www.formvista.com/contact.html

---------------------------------------------------------------------
2005-05-17: dev snapshot change summary

examples/simple_sample.php

. removed styllist. There is some exception problem I haven't tracked
  down yet.

ddt/ddt.js

. Should now work under MSIE.

htmlarea.js

. added workaround fix for NASTY FIREFOX BUG resulting in the infamous
  uneditable area problem (exception on designMode="on" issue - 
  refer to bug: 

  https://bugzilla.mozilla.org/show_bug.cgi?id=207842

  and this thread:

  http://xinha.gogo.co.nz/punbb/viewtopic.php?id=229

. trailing <BR>'s are no longer stripped out of the document. This
  was wreaking havoc on EnterParagraphs. It's not clear whether or not
  this is going to have unanticipated side-effects.

plugins/EnterParagraphs/enter-paragraphs.js

  NOT FULLY FUNCTIONAL YET - DOESN'T HANDLE ALL CASES CORRECTLY,
  but it's much better than it was I think.

. largely reworked.
. changed obfuscated variables names to make it more readable.
. expanded out nested (x ? y : z) constructs to make it more readable.
. added alot of comments.
. fixed a serious bug in findEachNodeUnder() that was not correctly
  handling beginning and end node conditions.
. fixed design flaw that selected a non-existent insertion point for 
  placing the cursor.
. fixed several exceptions.
. now correctly handles lists by passing the back back to the Gecko
  engine if we are in a list with the exception of being at the
  first position in the first element in which case we insert
  a paragraph before the list and move the cursor back to the first
  item on the list.

---------------------------------------------------------------------
2005-05-09: dev snapshot change summary

plugins/linker/scan.php

. fixed misformed debug message.

---------------------------------------------------------------------
2005-05-06: dev snapshot change summary

htmlarea.js

. more debugging messages added.
. added HTMLArea.Config.linkReplacementMode which can be either 
  fullyqualified (the old default behavior) or absolute. 
  
  When set to fullyqualified all absolute links (e.g. /somepath) will be changed
  to fullyqualified URLS (e.g. http://yoursite/somepth).

  When set to absolute, all fullyqualified urls back to the current site
  will be changed to absolute (e.g. http//yoursite/somepath to /somepath)
  making the Xinha generated content portable between sites. 

  ( see HTMLArea.prototype.outwardHtml() )

. bugfix - if plugin .js file has a parse error htmlarea will only try to load
  it a configurable number of times before popping up an error message.

backends/backend.php

. initial unified backend created. Requests to this backend are routed
  to the corresponding plugin specific backend.php file. 

backends/backend_conf.php

. a central server side configuration file has been created for the use
  of plugin serverside code. 
. all backends hooked into this scheme must include the central config file.

ImageManager

. modified the config to allow overriding default values.
. default image directory is now xinha/examples/images
. added debugging trace messages which are tagged with the ImageManager name.
. now uses unified backend. 

Linker

. includes central config. 
. default directory is now the xinha/examples directory (to avoid scan.php security
  problem)
. added debugging trace messages which are tagged with the Linker name.
. links selected from the tree are now displayed in absolute instead of fully qualified
  fashion.
. on edit the link that was previously selected is highlighted.
. on edit the selected link is scrolled to if it's outside the viewable area.
. if scan.php returns some kind of error or invalid javascript Linker now pops up
  a nice descriptive error message.

. bugfix - same pattern as in loading plugins. If there is some error in loading
  the directory listing Linker will only attempt it a few times before giving up and
  displaying a nice error.

dTree.js

. added clear_s() method to clear the selection
. added getNodeElement() method to return the <a ..> element for a given node.

---------------------------------------------------------------------
2005-04-23: dev snapshot

CHANGES:

. The _ddt() trace system has been changed to write all trace messages
  into a single popup window. This has produced a radical performance
  improvement which makes Xinha with all debugging messages enabled
  useable. 

. a separate popup trace window is opened for each domain to avoid:

  Error: uncaught exception: Permission denied to get property Window.DDT_STATUS

. the debug buttons have been removed.

. the ddtpreproc.php script has been completed which recurses through
  the directory structure and patches file and line numbers into all
  javascript files.

BUGS/ISSUES

. this code has not been tested using MSIE.

